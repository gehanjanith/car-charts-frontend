<div class="heading">
  <h1>Search Your Dream Vehicle....!</h1>
</div>

<form class="search-form">

   <div class="form-group">
    <label for="make">Make:</label>
    <select id="make" [(ngModel)]="make" (change)="onMakeSelected($event)" required name="make">
      <option *ngFor="let make of makes" [value]="make">{{ make }}</option>
    </select>
  </div>
  
  <div class="form-group">
    <label for="model">Model:</label>
    <select id="model" [(ngModel)]="model"  [disabled]="!make" (change)="onModelChange($event)" required name="model">
      <option *ngFor="let model of models" [value]="model">{{ model }}</option>
    </select>
  </div>
  
  <div class="form-group">
    <label for="minYear">Min Year:</label>
    <select id="minYear" [(ngModel)]="minYear" required name="minYear">
      <option *ngFor="let year of minYearOptions" [value]="year">{{ year }}</option>
    </select>
  </div>
  
  <div class="form-group">
    <label for="maxYear">Max Year:</label>
    <select id="maxYear" [(ngModel)]="maxYear" required name="maxYear">
      <option *ngFor="let year of maxYearOptions" [value]="year">{{ year }}</option>
    </select>
  </div>
  <div class="form-group">
    <button type="submit" (click)="searchCars()"><i class="fas fa-search" title="Search"></i></button>
  </div>
  
</form>


<!-- Add buttons/links for sorting -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
<button (click)="sortByPrice('asc')" class="sort-btn"><i class="fas fa-sort-up"></i> Sort by Price (Asc)</button>
<button (click)="sortByPrice('desc')" class="sort-btn"><i class="fas fa-sort-down"></i> Sort by Price (Desc)</button>

<!-- Add the price range slider -->
<div class="form-group">
  <div class="form-group">
    <label for="priceRange">Price Range:</label>
    <div class="price-slider">
      <input type="range" id="priceRange" name="priceRange" [min]="minPriceCar" [max]="maxPriceCar" [(ngModel)]="priceRange2" (input)="onPriceRangeChange()">
      <label for="priceRange">Price Filter Up to : {{ priceRange2 | currency:'LKR ' }}</label>
    </div> 
  </div>
</div>

<!-- Display search result information -->
<div *ngIf="cars.length > 0" class="search-results-info">
  <p>Number of Results: {{ cars.length }}</p>
  <p>Results are Priced Between {{ formatPrice(getMinPrice()) | currency:'LKR. '}} & {{ formatPrice(getMaxPrice()) | currency:'LKR. ' }}</p>
</div>

<div class="card-container">
  <div class="card" *ngFor="let car of cars">
  <img [src]="car.img" alt="Car Image">
  <div class="card-body">
    <h5 class="card-title">{{ car.title }}</h5>
    <p class="card-text">Price: {{ car.price }}</p>
    <p class="card-text">City: {{ car.city }}</p>
    <p class="card-text">Source: {{ car.supplier }}</p>
    <p class="card-text"><strong> Our Vedict: {{ car.priceLabel }}</strong></p>
    <a [href]="car.link" target="_blank" class="btn btn-primary">Details</a>
  </div>
  </div>
</div>
  

  
